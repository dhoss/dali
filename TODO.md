# TODO

 * image tiling
 * thumbnail/resize pipeline
 * image store
 * mark and sweep cached image cleanup

Possible tiling JSON structure:
```json
{
	"url": "//cdn.net/4d/b3/d4/10/4db3d41047ef21554854d3db10299db5",
	"full_height": "5616",
	"full_width": "7140",
	"tiles": {
		"full_width": 7140,
		"full_height": 5616,
		"50": {
			"1200": {
				"1200": {
					"length": 35133,
					"start": 571832
				},
				"1800": {
					"length": 34725,
					"start": 729708
				},
				"0": {
					"length": 24647,
					"start": 271750
				},
				"2400": {
					"length": 18727,
					"start": 867185
				},
				"600": {
					"length": 34044,
					"start": 413126
				}
			},
			"1800": {
				"1200": {
					"length": 32606,
					"start": 606965
				},
				"1800": {
					"length": 32324,
					"start": 764433
				},
				"0": {
					"length": 27164,
					"start": 296397
				},
				"2400": {
					"length": 16857,
					"start": 885912
				},
				"600": {
					"length": 30342,
					"start": 447170
				}
			},
			"0": {
				"1200": {
					"length": 18359,
					"start": 520377
				},
				"1800": {
					"length": 17321,
					"start": 682524
				},
				"0": {
					"length": 14727,
					"start": 237166
				},
				"2400": {
					"length": 11270,
					"start": 839670
				},
				"600": {
					"length": 17848,
					"start": 363567
				}
			},
			"2400": {
				"1200": {
					"length": 23085,
					"start": 639571
				},
				"1800": {
					"length": 24180,
					"start": 796757
				},
				"0": {
					"length": 23983,
					"start": 323561
				},
				"2400": {
					"length": 16986,
					"start": 902769
				},
				"600": {
					"length": 23165,
					"start": 477512
				}
			},
			"3000": {
				"1200": {
					"length": 19868,
					"start": 662656
				},
				"1800": {
					"length": 18733,
					"start": 820937
				},
				"0": {
					"length": 16023,
					"start": 347544
				},
				"2400": {
					"length": 11652,
					"start": 919755
				},
				"600": {
					"length": 19700,
					"start": 500677
				}
			},
			"600": {
				"1200": {
					"length": 33096,
					"start": 538736
				},
				"1800": {
					"length": 29863,
					"start": 699845
				},
				"0": {
					"length": 19857,
					"start": 251893
				},
				"2400": {
					"length": 16245,
					"start": 850940
				},
				"600": {
					"length": 31711,
					"start": 381415
				}
			}
		},
		"72": {
			"1200": {
				"1200": {
					"length": 26930,
					"start": 1284833
				},
				"1800": {
					"length": 26254,
					"start": 1469455
				},
				"0": {
					"length": 13513,
					"start": 955681
				},
				"2400": {
					"length": 28134,
					"start": 1655122
				},
				"3000": {
					"length": 22855,
					"start": 1839054
				},
				"3600": {
					"length": 13574,
					"start": 2006703
				},
				"600": {
					"length": 24907,
					"start": 1089874
				}
			},
			"4800": {
				"1200": {
					"length": 7318,
					"start": 1426121
				},
				"1800": {
					"length": 7024,
					"start": 1611767
				},
				"0": {
					"length": 7488,
					"start": 1047890
				},
				"2400": {
					"length": 6723,
					"start": 1801040
				},
				"3000": {
					"length": 8198,
					"start": 1977047
				},
				"3600": {
					"length": 5634,
					"start": 2090828
				},
				"600": {
					"length": 8259,
					"start": 1241181
				}
			},
			"2400": {
				"1200": {
					"length": 24355,
					"start": 1340681
				},
				"1800": {
					"length": 26357,
					"start": 1523880
				},
				"0": {
					"length": 17407,
					"start": 983927
				},
				"2400": {
					"length": 26626,
					"start": 1712964
				},
				"3000": {
					"length": 26809,
					"start": 1889415
				},
				"3600": {
					"length": 14036,
					"start": 2035353
				},
				"600": {
					"length": 25689,
					"start": 1143849
				}
			},
			"3000": {
				"1200": {
					"length": 23217,
					"start": 1365036
				},
				"1800": {
					"length": 23331,
					"start": 1550237
				},
				"0": {
					"length": 18459,
					"start": 1001334
				},
				"2400": {
					"length": 23324,
					"start": 1739590
				},
				"3000": {
					"length": 24012,
					"start": 1916224
				},
				"3600": {
					"length": 14266,
					"start": 2049389
				},
				"600": {
					"length": 28480,
					"start": 1169538
				}
			},
			"3600": {
				"1200": {
					"length": 17551,
					"start": 1388253
				},
				"1800": {
					"length": 17556,
					"start": 1573568
				},
				"0": {
					"length": 15418,
					"start": 1019793
				},
				"2400": {
					"length": 17876,
					"start": 1762914
				},
				"3000": {
					"length": 19729,
					"start": 1940236
				},
				"3600": {
					"length": 15346,
					"start": 2063655
				},
				"600": {
					"length": 22457,
					"start": 1198018
				}
			},
			"600": {
				"1200": {
					"length": 23321,
					"start": 1261512
				},
				"1800": {
					"length": 24114,
					"start": 1445341
				},
				"0": {
					"length": 13681,
					"start": 942000
				},
				"2400": {
					"length": 23896,
					"start": 1631226
				},
				"3000": {
					"length": 18493,
					"start": 1820561
				},
				"3600": {
					"length": 13786,
					"start": 1992917
				},
				"600": {
					"length": 21899,
					"start": 1067975
				}
			},
			"1800": {
				"1200": {
					"length": 28918,
					"start": 1311763
				},
				"1800": {
					"length": 28171,
					"start": 1495709
				},
				"0": {
					"length": 14733,
					"start": 969194
				},
				"2400": {
					"length": 29708,
					"start": 1683256
				},
				"3000": {
					"length": 27506,
					"start": 1861909
				},
				"3600": {
					"length": 15076,
					"start": 2020277
				},
				"600": {
					"length": 29068,
					"start": 1114781
				}
			},
			"4200": {
				"1200": {
					"length": 20317,
					"start": 1405804
				},
				"1800": {
					"length": 20643,
					"start": 1591124
				},
				"0": {
					"length": 12679,
					"start": 1035211
				},
				"2400": {
					"length": 20250,
					"start": 1780790
				},
				"3000": {
					"length": 17082,
					"start": 1959965
				},
				"3600": {
					"length": 11827,
					"start": 2079001
				},
				"600": {
					"length": 20706,
					"start": 1220475
				}
			},
			"0": {
				"1200": {
					"length": 12072,
					"start": 1249440
				},
				"1800": {
					"length": 11902,
					"start": 1433439
				},
				"0": {
					"length": 10593,
					"start": 931407
				},
				"2400": {
					"length": 12435,
					"start": 1618791
				},
				"3000": {
					"length": 12798,
					"start": 1807763
				},
				"3600": {
					"length": 7672,
					"start": 1985245
				},
				"600": {
					"length": 12597,
					"start": 1055378
				}
			}
		},
		"24": {
			"1200": {
				"1200": {
					"length": 6354,
					"start": 230812
				},
				"0": {
					"length": 25288,
					"start": 74658
				},
				"600": {
					"length": 27563,
					"start": 187555
				}
			},
			"0": {
				"1200": {
					"length": 6947,
					"start": 215118
				},
				"0": {
					"length": 31874,
					"start": 0
				},
				"600": {
					"length": 37907,
					"start": 99946
				}
			},
			"600": {
				"1200": {
					"length": 8747,
					"start": 222065
				},
				"0": {
					"length": 42784,
					"start": 31874
				},
				"600": {
					"length": 49702,
					"start": 137853
				}
			}
		},
		"100": {
			"1200": {
				"1200": {
					"length": 17508,
					"start": 2469204
				},
				"4800": {
					"length": 18432,
					"start": 3700613
				},
				"2400": {
					"length": 18830,
					"start": 2873964
				},
				"3000": {
					"length": 19320,
					"start": 3081609
				},
				"3600": {
					"length": 19959,
					"start": 3291832
				},
				"600": {
					"length": 16559,
					"start": 2255676
				},
				"5400": {
					"length": 2860,
					"start": 3890273
				},
				"1800": {
					"length": 17959,
					"start": 2667194
				},
				"4200": {
					"length": 14838,
					"start": 3501027
				},
				"0": {
					"length": 10706,
					"start": 2114858
				}
			},
			"4800": {
				"1200": {
					"length": 15589,
					"start": 2585554
				},
				"4800": {
					"length": 21539,
					"start": 3819961
				},
				"2400": {
					"length": 16082,
					"start": 2999451
				},
				"3000": {
					"length": 15748,
					"start": 3208538
				},
				"3600": {
					"length": 15952,
					"start": 3420597
				},
				"600": {
					"length": 21321,
					"start": 2377209
				},
				"5400": {
					"length": 3277,
					"start": 3908517
				},
				"1800": {
					"length": 16148,
					"start": 2791153
				},
				"4200": {
					"length": 16942,
					"start": 3617543
				},
				"0": {
					"length": 12950,
					"start": 2186715
				}
			},
			"2400": {
				"1200": {
					"length": 23387,
					"start": 2508429
				},
				"4800": {
					"length": 22333,
					"start": 3737985
				},
				"2400": {
					"length": 23912,
					"start": 2914117
				},
				"3000": {
					"length": 25008,
					"start": 3122894
				},
				"3600": {
					"length": 25003,
					"start": 3335053
				},
				"600": {
					"length": 21532,
					"start": 2289231
				},
				"5400": {
					"length": 2894,
					"start": 3895960
				},
				"1800": {
					"length": 24986,
					"start": 2706780
				},
				"4200": {
					"length": 18961,
					"start": 3533347
				},
				"0": {
					"length": 11019,
					"start": 2135933
				}
			},
			"3000": {
				"1200": {
					"length": 17842,
					"start": 2531816
				},
				"4800": {
					"length": 21118,
					"start": 3760318
				},
				"2400": {
					"length": 19521,
					"start": 2938029
				},
				"3000": {
					"length": 19739,
					"start": 3147902
				},
				"3600": {
					"length": 19766,
					"start": 3360056
				},
				"600": {
					"length": 21601,
					"start": 2310763
				},
				"5400": {
					"length": 3078,
					"start": 3898854
				},
				"1800": {
					"length": 18945,
					"start": 2731766
				},
				"4200": {
					"length": 24696,
					"start": 3552308
				},
				"0": {
					"length": 11821,
					"start": 2146952
				}
			},
			"3600": {
				"1200": {
					"length": 18519,
					"start": 2549658
				},
				"4800": {
					"length": 18143,
					"start": 3781436
				},
				"2400": {
					"length": 22464,
					"start": 2957550
				},
				"3000": {
					"length": 22412,
					"start": 3167641
				},
				"3600": {
					"length": 21302,
					"start": 3379822
				},
				"600": {
					"length": 20149,
					"start": 2332364
				},
				"5400": {
					"length": 3161,
					"start": 3901932
				},
				"1800": {
					"length": 21236,
					"start": 2750711
				},
				"4200": {
					"length": 21075,
					"start": 3577004
				},
				"0": {
					"length": 13139,
					"start": 2158773
				}
			},
			"600": {
				"1200": {
					"length": 15089,
					"start": 2454115
				},
				"4800": {
					"length": 17307,
					"start": 3683306
				},
				"2400": {
					"length": 16409,
					"start": 2857555
				},
				"3000": {
					"length": 16286,
					"start": 3065323
				},
				"3600": {
					"length": 16317,
					"start": 3275515
				},
				"600": {
					"length": 16085,
					"start": 2239591
				},
				"5400": {
					"length": 2849,
					"start": 3887424
				},
				"1800": {
					"length": 15669,
					"start": 2651525
				},
				"4200": {
					"length": 13893,
					"start": 3487134
				},
				"0": {
					"length": 9869,
					"start": 2104989
				}
			},
			"5400": {
				"1200": {
					"length": 13923,
					"start": 2601143
				},
				"4800": {
					"length": 16822,
					"start": 3841500
				},
				"2400": {
					"length": 14062,
					"start": 3015533
				},
				"3000": {
					"length": 14446,
					"start": 3224286
				},
				"3600": {
					"length": 14496,
					"start": 3436549
				},
				"600": {
					"length": 18433,
					"start": 2398530
				},
				"5400": {
					"length": 3377,
					"start": 3911794
				},
				"1800": {
					"length": 14632,
					"start": 2807301
				},
				"4200": {
					"length": 14636,
					"start": 3634485
				},
				"0": {
					"length": 11326,
					"start": 2199665
				}
			},
			"1800": {
				"1200": {
					"length": 21717,
					"start": 2486712
				},
				"4800": {
					"length": 18940,
					"start": 3719045
				},
				"2400": {
					"length": 21323,
					"start": 2892794
				},
				"3000": {
					"length": 21965,
					"start": 3100929
				},
				"3600": {
					"length": 23262,
					"start": 3311791
				},
				"600": {
					"length": 16996,
					"start": 2272235
				},
				"5400": {
					"length": 2827,
					"start": 3893133
				},
				"1800": {
					"length": 21627,
					"start": 2685153
				},
				"4200": {
					"length": 17482,
					"start": 3515865
				},
				"0": {
					"length": 10369,
					"start": 2125564
				}
			},
			"6600": {
				"1200": {
					"length": 11830,
					"start": 2630556
				},
				"4800": {
					"length": 10189,
					"start": 3874328
				},
				"2400": {
					"length": 10703,
					"start": 3045499
				},
				"3000": {
					"length": 10672,
					"start": 3255474
				},
				"3600": {
					"length": 10286,
					"start": 3467481
				},
				"600": {
					"length": 10832,
					"start": 2433040
				},
				"5400": {
					"length": 4055,
					"start": 3918742
				},
				"1800": {
					"length": 10559,
					"start": 2838021
				},
				"4200": {
					"length": 11592,
					"start": 3662777
				},
				"0": {
					"length": 9784,
					"start": 2220833
				}
			},
			"4200": {
				"1200": {
					"length": 17377,
					"start": 2568177
				},
				"4800": {
					"length": 20382,
					"start": 3799579
				},
				"2400": {
					"length": 19437,
					"start": 2980014
				},
				"3000": {
					"length": 18485,
					"start": 3190053
				},
				"3600": {
					"length": 19473,
					"start": 3401124
				},
				"600": {
					"length": 24696,
					"start": 2352513
				},
				"5400": {
					"length": 3424,
					"start": 3905093
				},
				"1800": {
					"length": 19206,
					"start": 2771947
				},
				"4200": {
					"length": 19464,
					"start": 3598079
				},
				"0": {
					"length": 14803,
					"start": 2171912
				}
			},
			"0": {
				"1200": {
					"length": 10243,
					"start": 2443872
				},
				"4800": {
					"length": 8937,
					"start": 3674369
				},
				"2400": {
					"length": 8975,
					"start": 2848580
				},
				"3000": {
					"length": 9121,
					"start": 3056202
				},
				"3600": {
					"length": 9369,
					"start": 3266146
				},
				"600": {
					"length": 8974,
					"start": 2230617
				},
				"5400": {
					"length": 2907,
					"start": 3884517
				},
				"1800": {
					"length": 9139,
					"start": 2642386
				},
				"4200": {
					"length": 9367,
					"start": 3477767
				},
				"0": {
					"length": 8527,
					"start": 2096462
				}
			},
			"6000": {
				"1200": {
					"length": 15490,
					"start": 2615066
				},
				"4800": {
					"length": 16006,
					"start": 3858322
				},
				"2400": {
					"length": 15904,
					"start": 3029595
				},
				"3000": {
					"length": 16742,
					"start": 3238732
				},
				"3600": {
					"length": 16436,
					"start": 3451045
				},
				"600": {
					"length": 16077,
					"start": 2416963
				},
				"5400": {
					"length": 3571,
					"start": 3915171
				},
				"1800": {
					"length": 16088,
					"start": 2821933
				},
				"4200": {
					"length": 13656,
					"start": 3649121
				},
				"0": {
					"length": 9842,
					"start": 2210991
				}
			}
		},
		"mime_type": "image/jpeg"
	},
	"mime_type": "image/jpeg"
}
```